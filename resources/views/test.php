<div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-3">
                    <div class="form-group">
                        <label for="company">Company</label>
                        <select name="company_id" id="company" class="form-control" required disabled>

                            <option value="CHATHAMKULAM WEIGH BRIDGE">
                                CHATHAMKULAM WEIGH BRIDGE</option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="branch">Branch</label>
                        <select name="branch_id" id="branch" class='form-control' required disabled>
                            <option value="Mannarkkad">
                                Mannarkkad</option>

                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" name='name' class="form-control" id="name"
                            value="Demo" aria-describedby="emailHelp" placeholder="Enter Name"
                            required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="address">Address</label>
                        <textarea class="form-control" name="address" id="address" aria-describedby="address" required disabled>Test</textarea>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="mobile">Mobile</label>
                        <input type="number" name='mobile' class="form-control" id="mobile"
                            value="" placeholder="Enter Mobile number" required
                            disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="emailid">Email ID</label>
                        <input type="email" name='email' class="form-control" id="emailid"
                            value="test@gmail.com" aria-describedby="emailHelp" placeholder="Enter email"
                            required disabled>

                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="dob">Date of birth</label>
                        <input type="date" name='dob' class="form-control" id="dob"
                            value="2000-01-02" required disabled min="1900-01-01" max="2023-10-03">
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select name='gender' class="form-control" id='gender' required disabled>
                            <option 
                                value="1">Male</option>
                            <option 
                                value="2">Female</option>
                            <option 
                                value="3">Other</option>
                        </select>
                    </div>

                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="id_proof">Id Proof Type</label>
                        <select name='id_proof_type' class="form-control" id='id_proof' required disabled>
                            <option  value="aadhar">
                                Aadhar</option>
                            <option Selected value="voterId">
                                Voter Id
                            </option>
                            <option  value="panCard">Pan
                                Card
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="idpn">Id Proof Number</label>
                        <input type="text" name='id_proof_number' class="form-control"
                            value="123455567890" id="id_proof_number"
                            placeholder="Enter Id Proof Number" required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="labour_classification">Labour Classification</label>

                        <select name='labour_classification' class="form-control" id='labour_classification' required
                            disabled>
                            <option 
                                value="local">Local
                            </option>
                            <option Selected
                                value="others">Others
                            </option>
                        </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="bano">Bank Account Number</label>
                        <input type="text" name='bank_account_no' class="form-control" id="bank_account_no"
                            value="123456789087654" placeholder="Enter Bank Account Number"
                            required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="bahn">Bank Account Holder Name</label>
                        <input type="text" name='bank_account_holder_name' class="form-control"
                            id="bank_account_holder_name" value="test acc"
                            placeholder="Enter Bank Account Holder Name" required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="ifsc">IFSC Code</label>
                        <input type="text" name='ifsc' class="form-control" id="ifsc"
                            value="21345678987654" placeholder="Enter IFSC Code" required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="bankname">Bank Name </label>
                        <input type="text" name='bank_name' class="form-control"
                            value="123456789087654" id="bankname" placeholder="Enter Bank Name"
                            required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="bank_branch_name">Bank Branch Name</label>
                        <input type="text" name='bank_branch_name' class="form-control"
                            value="test branch" id="bank_branch_name"
                            placeholder="Enter Bank Branch Name" required disabled>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="contarctor">Contractor</label>

                        <select name='contractor_id' class="form-control" id='contarctor' required disabled>

                            <option 701-Aneesh V value="">
                                701-Aneesh V</option>

                        </select>
                    </div>
                </div>

                <div class="col-3">
                    <div class="form-group">
                        <label for="mesthiry">Mesthiry</label>
                        <select name="mesthiry_id" id="mesthiry" class="form-control" required disabled>
                                                            <option
                                    
                                    value="1">testMesthiry</option>
                                                    </select>
                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="work_unit">Work Unit</label>
                        <select name="work_unit" id="workunit" class="form-control" required disabled>
                                                            <option
                                    
                                    value="1">testWorkunit</option>
                                                    </select>

                    </div>
                </div>
                <div class="col-3">
                    <div class="form-group">
                        <label for="remarks">Remarks</label>
                        <textarea class="form-control" name="remarks" id="remarks" aria-describedby="remarks" disabled>test  </textarea>
                    </div>
                </div>

            </div>
            <h2>Documents </h2>
            <form action="https://pavithra.ide.io.in/proxy/8000/add-docs" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="_token" value="s0pb6LiwTGTOHrY0iMe1Ls1JajZ0f1tYdSLu3UTh">                <input type="hidden" name="worker_id" id="worker_id"
                    value=1>

                <div class="row">
                    <div class="col-4">
                        <div class="form-group">
                            <label for="doc_name">Document Name</label>
                            <input class="form-control" value=""
                                type="text" name="doc_name" id="doc_name" required>
                        </div>

                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <label for="document">Document</label>
                            <input class="form-control" type="file" name="document" id="document" required>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <label for="remarks">Remarks</label>
                            <textarea class="form-control" name="remarks" id="remarks" aria-describedby="remarks"> </textarea>
                        </div>
                    </div>
                </div>
                <button class="btn btn-info btn-sm float-right" type="submit">Save </button>
            </form>


            <div id="docslist">
                
                <br> <br>
                <table id="docsTable" class="table table-bordered table-responsive"
                    style="margin-left: auto; 
            margin-right: auto; width: 80%;">
                    <thead>
                        <tr>
                            <th style="width:10%">Date</th>
                            <th style="width:10%">File</th>
                            <th style="width:10%">Action</th>
                        </tr>
                    </thead>
                    <tbody>

                                            </tbody>
                </table>
            </div>
            <br>
            <a href="https://pavithra.ide.io.in/proxy/8000/workers" class="btn btn-danger btn-sm float-left"> <i class="fas fa-arrow-left"></i>
                Back</a>
        </div>

    </div>
    <script>
        $(document).on('click', '.close-popup', function() {
            $("#commonModalForm").attr('action', '');
            $('#commonModal').modal('hide');
        });

        $(document).on('click', '#commonModalSubmitBtn', function() {
            if (!$("#commonModalForm")[0].checkValidity()) {
                $("#commonModalForm").find("#submit-hidden").click();
                return;
            }


            var formData = new FormData($("#commonModalForm")[0]);
            var url = $("#commonModalForm").attr('action');
            // $('#commonModalSubmitBtn').prop('disabled', true);
            $.ajax({
                type: 'POST',
                processData: false,
                contentType: false,
                url: url,
                async: true,
                data: formData,
                success: function(response) {
                    if (response.status == 1) {
                        toastr.success(response.message, 'Success');
                        $("#commonModalForm").attr('action', '');
                        $("#commonModal").modal('hide');
                        $('#commonModalSubmitBtn').prop('disabled', false);
                        window.location.reload();

                    } else {
                        for (let x in response.message) {
                            text = response.message[x];
                            toastr.error(text, 'Error');
                        }

                        $('#commonModalSubmitBtn').prop('disabled', false);
                    }
                }
            });
        });

        function docsAddWorker(workerId) {
            var type = "Document";
            var caste = $('#commonModalContent');
            caste.empty();
            $.ajax({
                url: "https://pavithra.ide.io.in/proxy/8000/docs-worker/" + workerId,
                type: 'GET',
                success: function(response) {
                    caste.html(response);
                    $('#commonModalLabel').text("Add " + type);
                    $('#commonModal').modal('show');
                }
            })
        }

        function deleteDocument(id) {
            $.ajax({
                url: "https://pavithra.ide.io.in/proxy/8000/document-delete/" + id,
                type: 'GET',
                success: function(response) {
                    if (response.status == 1) {
                        toastr.success(response.message, 'Success');
                        window.location.reload();
                    } else {

                    }
                }
            })
        }

        function editDocument(docId) {
            var type = "Document";
            var caste = $('#commonModalContent');
            caste.empty();
            $.ajax({
                url: "https://pavithra.ide.io.in/proxy/8000/edit-document/" + docId,
                type: 'GET',
                success: function(response) {
                    caste.html(response);
                    $('#commonModalLabel').text("Edit " + type);
                    $('#commonModal').modal('show');
                }
            })
        }
        $(document).ready(function() {
            $("#docsTable").DataTable({
                "responsive": true,
                "lengthChange": false,
                "autoWidth": false,
            });
        });
    </script>